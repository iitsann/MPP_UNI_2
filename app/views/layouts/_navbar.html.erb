<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <%= link_to I18n.t('forum'), home_path, class: "navbar-brand" %>
    <div class="navbar-nav">
      <li class="nav-item">
        <%= link_to I18n.t("posts"), posts_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%= link_to I18n.t("topics1"), topics_path, class: "nav-link" %>
      </li>
      <li class="nav-item">
        <%= link_to I18n.t("profiles"), profiles_path, class: "nav-link" %>
      </li>
    </div>
    <div class="navbar-nav ml-auto">
      <% if user_signed_in? %>
        <li class="nav-item">
          <%= button_to I18n.t("sign_out"), destroy_user_session_path, method: :delete, class: "nav-link" %>
        </li>
        <li class="nav-item" style="padding-top: 6px">
          <%= link_to profile_path(current_user.profile) do %>
            <% if current_user.profile.avatar.attached? %>
              <%= image_tag(current_user.profile.avatar, class: "avatar-image") %>
            <% else %>
              <%= current_user.email %>
            <% end %>
          <% end %>
        </li>
      <% else %>
        <li class="nav-item">
          <%= link_to I18n.t("sign_in"), new_user_session_path, class: "nav-link" %>
        </li>
        <li class="nav-item">
          <%= link_to I18n.t("sign_up"), new_user_registration_path, class: "nav-link" %>
        </li>
      <% end %>
      <%= link_to I18n.t("en"), url_for(locale: "en"), class: "nav-link" %>
      <%= link_to I18n.t("ua"), url_for(locale: "ua"), class: "nav-link" %>
    </div>
  </div>
</nav>

<style>
    .avatar-image {
        width: 32px;
        height: 32px;
        object-fit: cover;
        border-radius: 50%;
    }
</style>

