<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <div class="container">
    <%= link_to 'Forum', home_path, class: 'navbar-brand' %>
    <div class="navbar-nav">
      <li class="nav-item">
        <%= link_to 'Posts', posts_path, class: 'nav-link' %>
      </li>
      <li class="nav-item">
        <%= link_to 'Topics', topics_path, class: 'nav-link' %>
      </li>
      <li class="nav-item">
        <%= link_to 'Profiles', profiles_path, class: 'nav-link' %>
      </li>
    </div>
    <div class="navbar-nav ml-auto">
      <% if user_signed_in? %>
        <li class="nav-item">
          <%= button_to 'Sign out', destroy_user_session_path, method: :delete, class: 'nav-link' %>
        </li>
        <li class="nav-item" style="padding-top: 6px">
          <%= link_to profile_path(current_user.profile) do %>
            <% if current_user.profile.avatar.attached? %>
              <%= image_tag(current_user.profile.avatar, class: 'avatar-image') %>
            <% else %>
              <%= current_user.email %>
            <% end %>
          <% end %>
        </li>

      <% else %>
        <li class="nav-item">
          <%= link_to 'Sign in', new_user_session_path, class: 'nav-link' %>
        </li>
        <li class="nav-item">
          <%= link_to 'Sign up', new_user_registration_path, class: 'nav-link' %>
        </li>
      <% end %>
    </div>
  </div>
</nav>

<style>
    .avatar-image {
        width: 32px;
        height: 32px;
        object-fit: cover;
        border-radius: 50%;
    }
</style>

